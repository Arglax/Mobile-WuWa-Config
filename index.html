<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WuWa Engine.ini Generator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- ‚úÖ External CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- üé¨ Background Video -->
    <video autoplay muted loop playsinline id="bg-video">
        <source src="assets/video/MovingBG.mp4" type="video/mp4">
    </video>

    <!-- üåê Navbar Placeholder -->
    <div id="navbar"></div>

    <main>
        <h1>WuWa Engine.ini Generator</h1>

        <details open>
            <summary>üîß Special In-Game Toggles</summary>
            <p>Enable or configure special in-game features with the following toggles:</p>

            <div class="button-row">
                <button id="enableVulkanBtn">Enable Vulkan</button>
                <button id="forceVulkanBtn">Force Vulkan</button>
                <button id="enableFrameGenBtn">Enable Frame Generation</button>
                <button id="unlockUltraQualityBtn">Unlock Ultra-High Quality</button>
                <button id="addAllSpecialTogglesBtn">Add All</button>
                <button id="resetSpecialTogglesBtn">Reset</button>
            </div>

            <h3>Generated Engine.ini (Special Toggles)</h3>
            <pre id="specialTogglesOutput" aria-live="polite"></pre>
        </details>


        <!-- üéÆ TEXTURE SCALING -->
        <details open>
            <summary>üéÆ Far-Distance Texture Quality Scaling</summary>
            <p>Adjust texture streaming and mipmap detail levels (0 = disabled, 11 = ultra).</p>

            <div class="slider-section">
                <label><b>Quality Scale (0 ‚Äì 11)</b></label>
                <input id="slider" type="range" min="0" max="11" value="5" />
                <div class="slider-labels"><span>0</span><span>11</span></div>
            </div>

            <div class="button-row">
                <button id="dec">‚àí Decrease</button>
                <button id="reset">Reset</button>
                <button id="inc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini Variables:</h3>
            <pre id="output" aria-live="polite"></pre>

            <details>
                <summary>üß† Technical Footnote ‚Äî Texture Streaming</summary>
                <p>
                    <b>r.Streaming.Boost / MinBoost</b> ‚Äî Adjusts how aggressively textures are streamed to memory.<br>
                    <b>r.Streaming.GroupBoost.*</b> ‚Äî Per-group sharpness multiplier for building/foliage/NPC groups.<br>
                    <b>r.MipMapLODBias</b> ‚Äî Controls mipmap selection bias (negative ‚áí sharper textures).<br>
                    <b>r.Streaming.FullyLoadUsedTextures</b> ‚Äî Forces textures that are in use to load fully (1 = enable).<br>
                </p>
            </details>
        </details>

        <!-- üåë SHADOWS SETTINGS -->
        <details>
            <summary>üåë Shadows Settings</summary>
            <p>Control shadow rendering; select Basic (fewer options) or Advanced (full tuning).</p>

            <div class="button-row">
                <button onclick="setShadowMode('basic')">Basic</button>
                <button onclick="setShadowMode('advanced')">Advanced</button>
            </div>

            <div id="shadowMode" style="margin-top:10px; font-weight:bold;">Current Mode: Advanced</div>

            <div class="slider-section" style="margin-top:8px;">
                <label><b>Shadow Quality Scale (0 ‚Äì 11)</b></label>
                <input id="shadowSlider" type="range" min="0" max="11" value="5" oninput="updateShadowQuality()" />
                <div class="slider-labels"><span>0</span><span>11</span></div>
            </div>

            <div class="button-row">
                <button id="shadowDec">‚àí Decrease</button>
                <button id="shadowReset">Reset</button>
                <button id="shadowInc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini (Shadows)</h3>
            <pre id="shadowOutput" aria-live="polite"></pre>

            <details>
                <summary>üß† Technical Footnote ‚Äî Shadow Settings</summary>
                <p>
                    <b>r.ShadowQuality</b> ‚Äî Overall shadow quality (0 = off, up to 5 usually).<br>
                    <b>r.Shadow.CSM.MaxCascades</b> ‚Äî Number of cascades (more = smoother farther shadows).<br>
                    <b>r.Shadow.CSM.MaxDistance / FarShadowDistanceOverride</b> ‚Äî How far cascaded shadows are computed.<br>
                    <b>r.Shadow.*Resolution</b> ‚Äî Minimum/maximum shadow map size and per-object resolution controls.<br>
                    <b>r.Shadow.TexelsPerPixel / PCFMaxSamples</b> ‚Äî Filtering density and sample budget for softer shadows.<br>
                    <b>r.ContactShadows / r.CapsuleShadows</b> ‚Äî Add fine-scale and character-specific shadowing for realism.<br>
                    <b>r.DistanceFieldShadowing</b> ‚Äî Distance-field shadows for very large soft shadowing.<br>
                </p>
            </details>
        </details>

        <!-- üóëÔ∏è GARBAGE COLLECTION SETTINGS -->
        <details>
            <summary>üóëÔ∏è Garbage Collection Settings</summary>
            <p>Control garbage collection behavior to optimize memory usage and performance.</p>

            <div class="button-row">
                <button id="gcDec">‚àí Decrease</button>
                <button id="gcReset">Reset</button>
                <button id="gcInc">+ Increase</button>
            </div>

            <h3>Generated Engine.ini (Garbage Collection)</h3>
            <pre id="gcOutput" aria-live="polite"></pre>

            <details>
                <summary>üß† Technical Footnote ‚Äî Garbage Collection</summary>
                <p>
                    <b>gc.TimeBetweenPurgingPendingKillObjects</b> ‚Äî Time (in seconds) between purging objects marked for deletion.<br>
                    <b>gc.NumRetriesBeforeForcingGC</b> ‚Äî Number of retries before forcing garbage collection.<br>
                    <b>gc.MinDesiredObjectsPerSubTask</b> ‚Äî Minimum objects per garbage collection subtask.<br>
                    <b>gc.BlueprintClusteringEnabled</b> ‚Äî Enables clustering of blueprints for garbage collection.<br>
                    <b>gc.FlushStreamingOnGC</b> ‚Äî Flushes streaming data during garbage collection.<br>
                    <b>gc.ValidateGCHeap</b> ‚Äî Validates the garbage collection heap.<br>
                    <b>gc.StallCollectionWhileWaiting</b> ‚Äî Stalls garbage collection while waiting for resources.<br>
                    <b>gc.RandomFrequency</b> ‚Äî Frequency of random garbage collection.<br>
                    <b>gc.MaxObjectsNotConsideredByGC</b> ‚Äî Maximum objects ignored by garbage collection.<br>
                    <b>gc.AllowInitialGarbageCollection</b> ‚Äî Allows garbage collection at startup.<br>
                    <b>gc.CollectGarbageEveryFrame</b> ‚Äî Forces garbage collection every frame.<br>
                    <b>gc.ForceGCAtRegularInterval</b> ‚Äî Forces garbage collection at regular intervals.<br>
                    <b>gc.MinGCClusterSize</b> ‚Äî Minimum size of garbage collection clusters.<br>
                    <b>gc.MaxGCClusterSize</b> ‚Äî Maximum size of garbage collection clusters.<br>
                    <b>gc.VerifyUObjectsAreNotFGCObjects</b> ‚Äî Verifies that UObjects are not flagged for garbage collection.<br>
                    <b>gc.DisableAutomaticGC</b> ‚Äî Disables automatic garbage collection.<br>
                </p>
            </details>
        </details>

        <!-- üß≠ Floating Toolbar -->
        <div class="utility-buttons" role="toolbar" aria-label="Utilities">
            <button onclick="collapseAll()">Collapse All</button>
            <button onclick="expandAll()">Expand All</button>
            <button onclick="window.scrollTo({top:0,behavior:'smooth'})">Back to Top</button>
        </div>

        <!-- üóÇÔ∏è Floating Checklist -->
        <div id="engineIniContents" class="draggable">
            <h3>Engine.ini Contents</h3>
            <ul>
                <li>
                    <label>
                        <a href="#textureScaling" onclick="navigateToSection('textureScaling')">üéÆ Texture Scaling</a>
                        <input type="checkbox" id="includeTextureScaling" checked>
                    </label>
                </li>
                <li>
                    <label>
                        <a href="#shadowsSettings" onclick="navigateToSection('shadowsSettings')">üåë Shadows</a>
                        <input type="checkbox" id="includeShadows" checked>
                    </label>
                </li>
                <li>
                    <label>
                        <a href="#garbageCollection" onclick="navigateToSection('garbageCollection')">üóëÔ∏è Garbage Collection</a>
                        <input type="checkbox" id="includeGarbageCollection" checked>
                    </label>
                </li>
                <li>
                    <label>
                        <a href="#specialToggles" onclick="navigateToSection('specialToggles')">üîß Special Toggles</a>
                        <input type="checkbox" id="includeSpecialToggles" checked>
                    </label>
                </li>
            </ul>
            <div class="button-row">
                <button id="selectAllBtn">Select All</button>
                <button id="resetChecklistBtn">Reset</button>
            </div>
            <hr class="separator" />
            <h4 class="mini-title">File Generation</h4>
            <div class="button-row">
                <button id="resetBtn">üßπ Reset All Configs</button>
                <button id="generateBtn">‚öôÔ∏è Generate Engine.ini</button>
            </div>
        </div>

        <footer>
            Made by Arglax (GPT-assisted)
        </footer>
    </main>

    <!-- ‚úÖ External JS -->
    <script src="js/scripts.js"></script>
</body>
</html>
